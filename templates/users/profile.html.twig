{% extends 'base.html.twig' %}
{% block title %}
	Profile
{% endblock %}

{% block stylesheets %}{% endblock %}

{% block body %}
	<div class="container">
		<div class="card shadow">
			<div class="card-header">
				Informations
			</div>
			{{ form_start(userForm) }}
			<div class="form-row">
				<div class="form-group col-md-6">
					{{ form_row(userForm.firstname, {
						'attr' : {
							'class' : 'form-control',
							'placeholder' : 'Firstname'
						}
					})}}
				</div>
				<div class="form-group col-md-6">
					{{ form_row(userForm.lastname, {
						'attr' : {
							'class' : 'form-control',
							'placeholder' : 'Lastname'
						}
					})}}
				</div>
			</div>
			<div class="form-group">
				{{ form_row(userForm.email, {
					'attr' : {
						'class' : 'form-control',
						'placeholder' : 'example@example.com'
					}
				})}}
			</div>
			<div class="form_group">
				{{ form_row(userForm.password.first,
					{'attr': {
						'class': 'form-control mb-3',
						'placeholder' : 'Password'
					}
					})}}
			</div>
			<div class="form_group">
				{{ form_row(userForm.password.second,
					{'attr': {
						'class': 'form-control mb-3',
						'placeholder' : 'Confirm password'
					}
					})}}
			</div>
			<div class="form_group">
				{{ form_label(userForm.birthday) }}
				<div class="d-flex justify-content-sm-between">

					{{ form_widget(userForm.birthday.day,
						{'attr': {
							'class': 'form-control mr-1  mb-3',
						}
						})}}
					{{ form_widget(userForm.birthday.month,
						{'attr': {
							'class': 'form-control mr-1  mb-3',
						}
						})}}
					{{ form_widget(userForm.birthday.year,
						{'attr': {
							'class': 'form-control',
						}
						})}}
				</div>
			</div>
			{{ form_widget(userForm.register,
				{'attr': {
					'class': 'btn btn-light w-100',
				}
				})}}
			{{ form_end(userForm) }}
		</div>
		<div class="card mt-5 shadow">
			<div class="card-header">
				Game bought
			</div>
			{% if games | length < 1 %}
				You haven't buy any games for the moment
			{% else %}
				<table class="table mb-0 table-striped">
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Price</th>
							<th scope="col">Activation code</th>
							<th scope="col">Activate ?</th>
							<th scope="col">Purchase date</th>
						</tr>
					</thead>
					<tbody>
						{% for g in games %}
							<tr>
								<td scope="row">
									<a href="{{path('game', {'id' : g.idGame.id })}}">{{g.idGame.title}}</a>
								</td>
								<td>{{g.price}}$</td>
								<td>{{g.code}}</td>
								<td>{{g.used == 1 ? "yes" : "no"}}
								</td>
								<td>{{g.purchaseDate | date('m/d/Y')}}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% endif %}
		</div>
	</div>
{% endblock %}
